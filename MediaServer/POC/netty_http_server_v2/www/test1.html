<!DOCTYPE html>
<html>
<head>
	 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	 
</head>
<body>
	 <script src="http://123.59.49.58/sm-shop/resources/js/jquery-1.10.2.min.js"></script>
	 <script src="http://123.59.49.58/sm-shop/resources/js/ajaxfileupload.js"></script>
	<form action="http://127.0.0.1:8180/upload.html" method="POST" enctype="multipart/form-data">
		<input name="upfile1.param1" value="value1"/>
		<input name="upfile1" type="file" value=""/>
		<br/>
		<br/>
		<input name="upfile2.param1" value="value2.1"/>
		<input name="upfile2.param2" value="value2.2"/>
		<input name="upfile2" type="file" value=""/>
		<br/>
		
		<input type="submit" value="OK"/>
	</form>
	
	<script>
	jQuery.extend({
	    handleError: function( s, xhr, status, e ) {
	        // If a local callback was specified, fire it
	        if ( s.error )
	            s.error( xhr, status, e );
	        // If we have some XML response text (e.g. from an AJAX call) then log it in the console
	        else if(xhr.responseText)
	            console.log(xhr.responseText);
	    }
	});
	
function atest(){
	alert("What?");
}
	function doAjax() {
		var args= {
			axparam1: $('#ajax_param_1').val(),
			axparam2: $('#ajax_param_2').val()
		};
        $.ajaxFileUpload({
        	url:'http://127.0.0.1:8180/upload.jsp',
            secureuri:false,
            fileElementId:'ajax_file',
            dataType: 'json',
            data:args,
            success: function (data) {//调用成功时怎么处理  
              alert("上传成功");  
            }  
        });  
    }
	</script>
	<div>
		<input id="ajax_param_1" value="value1"/>
		<input id="ajax_param_2" value="value2"/>
		<input name="file1" id="ajax_file" value="" type="file"/>
		<br/>
		<button id="submitId" onclick="doAjax()">提交</button>
	</div>
		<script>
		alert($('#submitId').html());
		atest();
		</script>
</body>
</html>